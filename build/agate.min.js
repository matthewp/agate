((function(){function c(a,b){return a.indexOf(b)!==-1?a:(a.push(b),a)}function d(a,b){var c;if((c=a.indexOf(b))===-1)return a;var d=a.slice(c,c++);return d}"use strict";var a=Array.prototype.slice,b=Array.prototype.splice,e=Backbone.View.extend({hasClassName:function(a,b){return a.split(" ").indexOf(b)!==-1},addClassName:function(a,b){var c=a.split(" ");return c.indexOf(b)!==-1?a:(c.push(b),c.join(" "))},removeClassName:function(a,b){var c=a.split(" "),d;return(d=c.indexOf(b))===-1?a:(c.splice(d,1),c.join(" "))},hasClass:function(a){return this.hasClassName(a)},addClass:function(a){this.className=this.addClassName(this.className,a),this.el&&(this.el.className=this.className)},removeClass:function(a){this.className=this.removeClassName(this.className,a),this.el&&(this.el.className=this.className)}}),f=Backbone.Model.extend({defaults:{text:"",active:!1}}),g=Backbone.View.extend({tagName:"button",className:"agate-button",model:new f,initialize:function(){this.model instanceof f||(this.model=new f(this.model))},render:function(){this.el.textContent=this.model.get("text");if(this.model.get("active")){var a=this.el.className.split(" ");a.push("active"),this.el.className=a.join(" ")}return this}}),h=g.extend({className:"agate-radiobutton"}),i=e.extend({buttons:[],events:{"mouseup button":"up","touchend button":"up"},initialize:function(){var a=this.options.buttons;a&&a.length>0&&a[0].model.set("active",!0)},render:function(){var a=this;return a.options.buttons.forEach(function(b){var c=b.render().el;a.el.appendChild(c)}),a},up:function(a){var b=a.target,c=this.hasClassName(b.className,"active"),d=this;c||(this.options.buttons.forEach(function(a){a.model.set("active",!1),a.el.className=d.removeClassName(a.el.className,"active")}),b.className=this.addClassName(b.className,"active"))}}),j=g.extend({tagName:"div",className:"agate-toggle-button",value:!1,events:{mouseup:"up",touchend:"up"},initialize:function(){g.prototype.initialize.call(this),this.value=this.options.value||!1},render:function(){var a=this;g.prototype.render.call(this);if(!this.onEl||!this.offEl||!this.knobEl)this.onEl=this.renderOn(),this.offEl=this.renderOff(),this.knobEl=this.renderKnob();return[this.onEl,this.offEl,this.knobEl].forEach(function(b){a.el.appendChild(b)}),this},renderOn:function(){var a=this.make("div",{style:this.value?"":"display: none;","class":"agate-toggle-content on"},"On");return a},renderOff:function(){var a=this.make("div",{style:this.value?"display: none;":"","class":"agate-toggle-content off"},"Off");return a},renderKnob:function(){var a=this.make("div",{"class":"agate-toggle-button-knob"});return a},up:function(){this.value=!this.value;var a=this.value?this.onEl:this.offEl,b=this.value?this.offEl:this.onEl;a.style.display=null,b.style.display="none"}}),k=e.extend({tagName:"div",checkedClassName:"agate-checkbox-checked",className:this.baseClassName,checked:!1,events:{mousedown:"down",touchstart:"down"},render:function(){return this.checked?this.addClass(this.checkedClassName):this.removeClass(this.checkedClassName),this},down:function(){this.checked=!this.checked,this.render()}}),l=Backbone.Model.extend({defaults:{header:!1,headerText:""}}),m=Backbone.View.extend({tagName:"div",className:"agate-groupbox",model:new l,initialize:function(){this.model instanceof l||(this.model=new l(this.model))},render:function(){return this.model.get("header")&&(this.header||this.renderHeader(),this.el.appendChild(this.header)),this},renderHeader:function(){return this.header=this.make("div",{"class":"agate-groupbox-header"},this.model.get("headerText")),this.header}}),n=Backbone.Model.extend({defaults:{text:""}}),o=Backbone.View.extend({tagName:"div",className:"agate agate-toolbar agate-toolbar-inline agate-toolbar-centered",model:new n,initialize:function(){this.model instanceof n||(this.model=new n(this.model))},render:function(){return this.el.textContent=this.model.get("text"),this}});this.Agate={View:e,Toolbar:n,ToolbarView:o,Button:f,ButtonView:g,RadioButtonView:h,RadioGroupView:i,ToggleButtonView:j,CheckboxView:k,Groupbox:l,GroupboxView:m}})).call(this);